<!DOCTYPE html>
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
        <meta name="description" content="">
        <meta name="keywords" content="">
<head>
	<meta charset="utf-8" />
	<title>++足迹</title>
	<link rel="stylesheet" href="./footfiles/lib.min.css">
    <link rel="stylesheet" href="./footfiles/bootstrap.css">
    <link rel="stylesheet" href="./footfiles/app.css">
    <link rel="stylesheet" href="./footfiles/plugins.css">
    <link rel="stylesheet" href="./footfiles/main.css">
	<link rel="stylesheet" type="text/css" href="../statics/css/reset.css"/>
	 <!-- 引入.js -->
	<script type="text/javascript" src="./footfiles/jquery-3.3.1.min.js"></script>
	<script type="text/javascript" src="./footfiles/lib.min.js"></script>
	<script type="text/javascript" src="./footfiles/lodash.min.js"></script>
	<script type="text/javascript" src="./footfiles/main.js"></script>
	<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/echarts.js"></script>
    <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/echarts.min.js"></script>
    <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts-gl/echarts-gl.min.js"></script>
    <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts-stat/ecStat.min.js"></script>
    <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/extension/dataTool.min.js"></script>
    <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/china.js"></script>
    <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/world.js"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=ZUONbpqGBsYGXNIYHicvbAbM"></script>
    <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/extension/bmap.min.js"></script>
    <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/simplex.js"></script>
	<script type="text/javascript" async="" src="http://www.google-analytics.com/ga.js"></script><script async="" src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<style>
		*{margin:0;padding:0;}
		.backimg{
			position: relative;
			background:url('footfiles/background.jpg')no-repeat center!important;
			background-size: 100% 100%!important;
		}
		.wrong-message{text-align:100px;margin-left:150px;width:80vw;height:4vh;font-size:13px;}
		.startsearch{text-align: center;font-size: 15px;}
		.addfeet{text-align: center;font-size: 15px;}
		.generate{text-align: center;font-size: 15px;}
		.savefeet{text-align: center;font-size: 15px;}
		.search {
            width: 70%;
            height: 3vh;
            margin: auto;
        }

        #search_value {
            width: 70%;
            height: 3vh;
			margin-top:50px;
            box-shadow: 0px 1px black, 0px 1px #333;
        }

        .search button {
            width: 24%;
            height: 3vh;
            margin-left: 6px;
			margin-top:50px;
			background-color: #59b3f3;
            box-shadow: 0px -1px #59b3f3, 0px -1px #59b3f3;
        }
		.hide{
            display: none;
        }
		
	</style>
</head>

<body class="sidebar-disabled navbar-fixed">
	<div id = "backimg" class = "backimg">
	<div class="main-wrap">
		<nav class="navigation">
            <!-- START Navbar -->
            <div class="navbar-inverse navbar navbar-fixed-top">
                <div class="container">
                    <div class="navbar-header">
                        <h3 style="font-size:20px"><strong>+ + 足 迹</strong></h3>
                    </div>
                    <div class="collapse navbar-collapse" id="navbar">
						<ul class="nav navbar-nav navbar-right">
							<li class="dropdown" style="margin-top:10px;">
								<a class="dropdown-toggle user-dropdown" data-toggle="dropdown" href="" role="button">
									<span style="font-size:15px;color:white">选项</span>
									<span class="caret"></span>
								</a>
								<ul class="dropdown-menu">
										<li>
											<a class="startsearch" onclick="Startsearch()">查询足迹</a>
										</li>
										<li>
											<a class="addfeet" onclick="Addfeet()">添加足迹</a>
										</li>
										<li>
											<a class="generate" onclick="Generatefeet()">生成足迹</a>
										</li>
										<li>
											<a class="savefeet" onclick="Savefeet()">保存足迹</a>
										</li>
										<li role="separator" class="divider"></li>
										<li>
											<a href="javascript:coming()" style="text-align:center;"><strong>帮助中心</strong></a>
										</li>
								</ul>
							</li>
						</ul> <!-- /.navbar-right -->

                    </div>
                </div>
            </div>
            <!-- END Navbar -->
        </nav>
	</div>
	<div class="row m-b-2">
		<div class="col-md-8">
			<br>
			<div id="china" style="height:82vh;"></div>
			<hr>
			<div class="search hide">
			</div>
		</div>
		<div class="col-md-4">
			<div class="search hide">
				<input id="search_value" type="text" placeholder="请输入待查询钱包地址."><button id="search" style="color:black">查询足迹</button>
			</div>
			<br>
			<div id="province" style="height:82vh;"></div>
			<hr>
		</div>
		<div>
			<footer>
				<div class="col-md-8">
					<div id="wrong-message" style="color:white;margin-left:1vw;"></div>
				</div>
				<div class="col-md-4">
					<p class="text-gray-dark" style="color:white;margin-left:0vw;">
						<strong class="m-c-4">行者无疆  ©2018.6.1  中文</strong>
					</p>
				</div>
			</footer>
		</div>
	</div>
	<script type="text/javascript" src="./footfiles/nebPay.js"></script>
	<script type="text/javascript" src="./footfiles/bootstrap.min.js"></script>
	<script type="text/javascript" src="./footfiles/nebulas.js"></script>
	<script>
	"use strict";
		var dappAddress = "n1ntrpVkZqzuWfT7a1QDbv9KbXpsKABBKP9";  //合约地址
		var nebulas = require("nebulas"),
			Account = nebulas.Account,
			neb = new nebulas.Neb();
		neb.setRequest(new nebulas.HttpRequest("https://mainnet.nebulas.io"));	
		var NebPay = require("nebpay");     //https://github.com/nebulasio/nebPay
		var nebPay = new NebPay();
		var serialNumber;
		var intervalQuery;
		var resultfeet = '';
		var citygo = '';
		//查询以前的足迹
		function Startsearch(){
			$(".search").removeClass("hide");
		}
		$("#search").click(function(){
			var from = Account.NewAccount().getAddressString();
			//var temp = "n1KfDupNa8d9JXUF6E4ABva5dJdCSezyg1K";
			var value = "0";
			var nonce = "0"
			var gas_price = "1000000"
			var gas_limit = "2000000"
			var callFunction = "get";
			var callArgs = "[\"" + $("#search_value").val() + "\"]"; //in the form of ["args"]
			var contract = {
				"function": callFunction,
				"args": callArgs
			}
			neb.api.call(from,dappAddress,value,nonce,gas_price,gas_limit,contract).then(function (resp) {
				resultfeet = feetSearch(resp);
				citygo= resultfeet;
				var cityselected='当前足迹: '+ resultfeet;   //每次选中的城市
				document.getElementById('wrong-message').innerHTML = cityselected;
				//alert(resultfeet);
				Generate();
			}).catch(function (err) {
				feetSearch(err)
				console.log("error:" + err.message)
			})
		})
		//return of search,
		function feetSearch(resp) {
			var result = resp.result    ////resp is an object, resp.result is a JSON string
			console.log("return of rpc call: " + JSON.stringify(result))
			if (result === 'null'){
				alert("足迹为空.");
			} 
			else{
				//if result is not null, then it should be "return value" or "error message"
				try{
					result = JSON.parse(result);
				}catch (err){
					alert("数据解析错误.")
				}

				if (!!result.key){      //"return value"
					$(".search").addClass("hide");
					return result.key;
				} 
				else {        //"error message"
					alert("足迹为空.");
				}
			}
		}
		
		function Addfeet(){
			var turnval;
			turnval = escape(resultfeet);
			document.location.href = "addfeet.html?a="+turnval;
		}
		function Generatefeet(){
			$(".search").addClass("hide");
			Generate();
		}
		function Savefeet(){
			alert("没有新的足迹需要保存，请添加新足迹.");	
			document.location.href = "searchfeet.html";
		}
		
	</script>
	<script>
		var datacityall = 
		[
			{ name:"北京", value: 99 },
			{ name:"上海", value: 99 },
			{ name:"天津", value: 99 },
			{ name:"重庆", value: 99 },
			{ name: "普洱市", value: 99 },	
			{ name: "红河哈尼族彝族自治州", value: 99 },	
			{ name: "文山壮族苗族自治州", value: 99 },	
			{ name: "曲靖市", value: 99 },	
			{ name: "楚雄彝族自治州", value: 99 },	
			{ name: "大理白族自治州", value: 99 },	
			{ name: "临沧市", value: 99 },	
			{ name: "迪庆藏族自治州", value: 99 },	
			{ name: "昭通市", value: 99 },	
			{ name: "昆明市", value: 99 },	
			{ name: "丽江市", value: 99 },	
			{ name: "西双版纳傣族自治州", value: 99 },	
			{ name: "保山市", value: 99 },	
			{ name: "玉溪市", value: 99 },	
			{ name: "怒江傈僳族自治州", value: 99 },	
			{ name: "德宏傣族景颇族自治州", value: 99 },	
			{ name: "呼伦贝尔市", value: 99 },	
			{ name: "阿拉善盟", value: 99 },	
			{ name: "锡林郭勒盟", value: 99 },	
			{ name: "鄂尔多斯市", value: 99 },	
			{ name: "赤峰市", value: 99 },	
			{ name: "巴彦淖尔市", value: 99 },	
			{ name: "通辽市", value: 99 },	
			{ name: "乌兰察布市", value: 99 },	
			{ name: "兴安盟", value: 99 },	
			{ name: "包头市", value: 99 },	
			{ name: "呼和浩特市", value: 99 },	
			{ name: "乌海市", value: 99 },	
			{ name: "高雄市", value: 99 },	
			{ name: "屏东县", value: 99 },	
			{ name: "台南市", value: 99 },	
			{ name: "新竹市", value: 99 },	
			{ name: "新竹县", value: 99 },	
			{ name: "宜兰县", value: 99 },	
			{ name: "基隆市", value: 99 },	
			{ name: "苗栗县", value: 99 },	
			{ name: "台北市", value: 99 },	
			{ name: "新北市", value: 99 },	
			{ name: "桃园县", value: 99 },	
			{ name: "彰化县", value: 99 },	
			{ name: "嘉义县", value: 99 },	
			{ name: "嘉义市", value: 99 },	
			{ name: "花莲县", value: 99 },	
			{ name: "南投县", value: 99 },	
			{ name: "台中市", value: 99 },	
			{ name: "云林县", value: 99 },	
			{ name: "台东县", value: 99 },	
			{ name: "澎湖县", value: 99 },	
			{ name: "金门", value: 99 },	
			{ name: "马祖", value: 99 },	
			{ name: "延边朝鲜族自治州", value: 99 },	
			{ name: "吉林市", value: 99 },	
			{ name: "白城市", value: 99 },	
			{ name: "松原市", value: 99 },	
			{ name: "长春市", value: 99 },	
			{ name: "白山市", value: 99 },	
			{ name: "通化市", value: 99 },	
			{ name: "四平市", value: 99 },	
			{ name: "辽源市", value: 99 },	
			{ name: "甘孜藏族自治州", value: 99 },	
			{ name: "阿坝藏族羌族自治州", value: 99 },	
			{ name: "凉山彝族自治州", value: 99 },	
			{ name: "绵阳市", value: 99 },	
			{ name: "达州市", value: 99 },	
			{ name: "广元市", value: 99 },	
			{ name: "雅安市", value: 99 },	
			{ name: "宜宾市", value: 99 },	
			{ name: "乐山市", value: 99 },	
			{ name: "南充市", value: 99 },	
			{ name: "巴中市", value: 99 },	
			{ name: "泸州市", value: 99 },	
			{ name: "成都市", value: 99 },	
			{ name: "资阳市", value: 99 },	
			{ name: "攀枝花市", value: 99 },	
			{ name: "眉山市", value: 99 },	
			{ name: "广安市", value: 99 },	
			{ name: "德阳市", value: 99 },	
			{ name: "内江市", value: 99 },	
			{ name: "遂宁市", value: 99 },	
			{ name: "自贡市", value: 99 },	
			{ name: "吴忠市", value: 99 },	
			{ name: "中卫市", value: 99 },	
			{ name: "固原市", value: 99 },	
			{ name: "银川市", value: 99 },	
			{ name: "石嘴山市", value: 99 },	
			{ name: "六安市", value: 99 },	
			{ name: "安庆市", value: 99 },	
			{ name: "滁州市", value: 99 },	
			{ name: "宣城市", value: 99 },	
			{ name: "阜阳市", value: 99 },	
			{ name: "宿州市", value: 99 },	
			{ name: "黄山市", value: 99 },	
			{ name: "巢湖市", value: 99 },	
			{ name: "亳州市", value: 99 },	
			{ name: "池州市", value: 99 },	
			{ name: "合肥市", value: 99 },	
			{ name: "蚌埠市", value: 99 },	
			{ name: "芜湖市", value: 99 },	
			{ name: "淮北市", value: 99 },	
			{ name: "淮南市", value: 99 },	
			{ name: "马鞍山市", value: 99 },	
			{ name: "铜陵市", value: 99 },	
			{ name: "烟台市", value: 99 },	
			{ name: "临沂市", value: 99 },	
			{ name: "潍坊市", value: 99 },	
			{ name: "青岛市", value: 99 },	
			{ name: "菏泽市", value: 99 },	
			{ name: "济宁市", value: 99 },	
			{ name: "德州市", value: 99 },	
			{ name: "滨州市", value: 99 },	
			{ name: "聊城市", value: 99 },	
			{ name: "东营市", value: 99 },	
			{ name: "济南市", value: 99 },	
			{ name: "泰安市", value: 99 },	
			{ name: "威海市", value: 99 },	
			{ name: "日照市", value: 99 },	
			{ name: "淄博市", value: 99 },	
			{ name: "枣庄市", value: 99 },	
			{ name: "莱芜市", value: 99 },	
			{ name: "忻州市", value: 99 },	
			{ name: "吕梁市", value: 99 },	
			{ name: "临汾市", value: 99 },	
			{ name: "晋中市", value: 99 },	
			{ name: "运城市", value: 99 },	
			{ name: "大同市", value: 99 },	
			{ name: "长治市", value: 99 },	
			{ name: "朔州市", value: 99 },	
			{ name: "晋城市", value: 99 },	
			{ name: "太原市", value: 99 },	
			{ name: "阳泉市", value: 99 },	
			{ name: "清远市", value: 99 },	
			{ name: "韶关市", value: 99 },	
			{ name: "湛江市", value: 99 },	
			{ name: "梅州市", value: 99 },	
			{ name: "河源市", value: 99 },	
			{ name: "肇庆市", value: 99 },	
			{ name: "惠州市", value: 99 },	
			{ name: "茂名市", value: 99 },	
			{ name: "江门市", value: 99 },	
			{ name: "阳江市", value: 99 },	
			{ name: "云浮市", value: 99 },	
			{ name: "广州市", value: 99 },	
			{ name: "汕尾市", value: 99 },	
			{ name: "揭阳市", value: 99 },	
			{ name: "珠海市", value: 99 },	
			{ name: "佛山市", value: 99 },	
			{ name: "潮州市", value: 99 },	
			{ name: "汕头市", value: 99 },	
			{ name: "深圳市", value: 99 },	
			{ name: "东莞市", value: 99 },	
			{ name: "中山市", value: 99 },	
			{ name: "百色市", value: 99 },	
			{ name: "河池市", value: 99 },	
			{ name: "桂林市", value: 99 },	
			{ name: "南宁市", value: 99 },	
			{ name: "柳州市", value: 99 },	
			{ name: "崇左市", value: 99 },	
			{ name: "来宾市", value: 99 },	
			{ name: "玉林市", value: 99 },	
			{ name: "梧州市", value: 99 },	
			{ name: "贺州市", value: 99 },	
			{ name: "钦州市", value: 99 },	
			{ name: "贵港市", value: 99 },	
			{ name: "防城港市", value: 99 },	
			{ name: "北海市", value: 99 },
			{ name: "巴音郭楞蒙古自治州", value: 99 },	
			{ name: "和田地区", value: 99 },	
			{ name: "哈密地区", value: 99 },	
			{ name: "阿克苏地区", value: 99 },	
			{ name: "阿勒泰地区", value: 99 },	
			{ name: "喀什地区", value: 99 },	
			{ name: "塔城地区", value: 99 },	
			{ name: "昌吉回族自治州", value: 99 },	
			{ name: "克孜勒苏柯尔克孜自治州", value: 99 },	
			{ name: "吐鲁番地区", value: 99 },	
			{ name: "伊犁哈萨克自治州", value: 99 },	
			{ name: "博尔塔拉蒙古自治州", value: 99 },	
			{ name: "乌鲁木齐市", value: 99 },	
			{ name: "克拉玛依市", value: 99 },	
			{ name: "阿拉尔市", value: 99 },	
			{ name: "图木舒克市", value: 99 },	
			{ name: "五家渠市", value: 99 },	
			{ name: "石河子市", value: 99 },	
			{ name: "盐城市", value: 99 },	
			{ name: "徐州市", value: 99 },	
			{ name: "南通市", value: 99 },	
			{ name: "淮安市", value: 99 },	
			{ name: "苏州市", value: 99 },	
			{ name: "宿迁市", value: 99 },	
			{ name: "连云港市", value: 99 },	
			{ name: "扬州市", value: 99 },	
			{ name: "南京市", value: 99 },	
			{ name: "泰州市", value: 99 },	
			{ name: "无锡市", value: 99 },	
			{ name: "常州市", value: 99 },	
			{ name: "镇江市", value: 99 },	
			{ name: "赣州市", value: 99 },	
			{ name: "吉安市", value: 99 },	
			{ name: "上饶市", value: 99 },	
			{ name: "九江市", value: 99 },	
			{ name: "抚州市", value: 99 },	
			{ name: "宜春市", value: 99 },	
			{ name: "南昌市", value: 99 },	
			{ name: "景德镇市", value: 99 },	
			{ name: "萍乡市", value: 99 },	
			{ name: "鹰潭市", value: 99 },	
			{ name: "新余市", value: 99 },	
			{ name: "承德市", value: 99 },	
			{ name: "张家口市", value: 99 },	
			{ name: "保定市", value: 99 },	
			{ name: "唐山市", value: 99 },	
			{ name: "沧州市", value: 99 },	
			{ name: "石家庄市", value: 99 },	
			{ name: "邢台市", value: 99 },	
			{ name: "邯郸市", value: 99 },	
			{ name: "秦皇岛市", value: 99 },	
			{ name: "衡水市", value: 99 },	
			{ name: "廊坊市", value: 99 },	
			{ name: "南阳市", value: 99 },	
			{ name: "信阳市", value: 99 },	
			{ name: "洛阳市", value: 99 },	
			{ name: "驻马店市", value: 99 },	
			{ name: "周口市", value: 99 },	
			{ name: "商丘市", value: 99 },	
			{ name: "三门峡市", value: 99 },	
			{ name: "新乡市", value: 99 },	
			{ name: "平顶山市", value: 99 },	
			{ name: "郑州市", value: 99 },	
			{ name: "安阳市", value: 99 },	
			{ name: "开封市", value: 99 },	
			{ name: "焦作市", value: 99 },	
			{ name: "许昌市", value: 99 },	
			{ name: "濮阳市", value: 99 },	
			{ name: "漯河市", value: 99 },	
			{ name: "鹤壁市", value: 99 },	
			{ name: "丽水市", value: 99 },	
			{ name: "杭州市", value: 99 },	
			{ name: "温州市", value: 99 },	
			{ name: "宁波市", value: 99 },	
			{ name: "舟山市", value: 99 },	
			{ name: "台州市", value: 99 },	
			{ name: "金华市", value: 99 },	
			{ name: "衢州市", value: 99 },	
			{ name: "绍兴市", value: 99 },	
			{ name: "嘉兴市", value: 99 },	
			{ name: "湖州市", value: 99 },	
			{ name: "儋州市", value: 99 },	
			{ name: "文昌市", value: 99 },	
			{ name: "乐东黎族自治县", value: 99 },	
			{ name: "三亚市", value: 99 },	
			{ name: "琼中黎族苗族自治县", value: 99 },	
			{ name: "东方市", value: 99 },	
			{ name: "海口市", value: 99 },	
			{ name: "万宁市", value: 99 },	
			{ name: "澄迈县", value: 99 },	
			{ name: "白沙黎族自治县", value: 99 },	
			{ name: "琼海市", value: 99 },	
			{ name: "昌江黎族自治县", value: 99 },	
			{ name: "临高县", value: 99 },	
			{ name: "陵水黎族自治县", value: 99 },	
			{ name: "屯昌县", value: 99 },	
			{ name: "定安县", value: 99 },	
			{ name: "保亭黎族苗族自治县", value: 99 },	
			{ name: "五指山市", value: 99 },	
			{ name: "恩施土家族苗族自治州", value: 99 },	
			{ name: "十堰市", value: 99 },	
			{ name: "宜昌市", value: 99 },	
			{ name: "襄樊市", value: 99 },	
			{ name: "黄冈市", value: 99 },	
			{ name: "荆州市", value: 99 },	
			{ name: "荆门市", value: 99 },	
			{ name: "咸宁市", value: 99 },	
			{ name: "随州市", value: 99 },	
			{ name: "孝感市", value: 99 },	
			{ name: "武汉市", value: 99 },	
			{ name: "黄石市", value: 99 },	
			{ name: "神农架林区", value: 99 },	
			{ name: "天门市", value: 99 },	
			{ name: "仙桃市", value: 99 },	
			{ name: "潜江市", value: 99 },	
			{ name: "鄂州市", value: 99 },	
			{ name: "怀化市", value: 99 },	
			{ name: "永州市", value: 99 },	
			{ name: "邵阳市", value: 99 },	
			{ name: "郴州市", value: 99 },	
			{ name: "常德市", value: 99 },	
			{ name: "湘西土家族苗族自治州", value: 99 },	
			{ name: "衡阳市", value: 99 },	
			{ name: "岳阳市", value: 99 },	
			{ name: "益阳市", value: 99 },	
			{ name: "长沙市", value: 99 },	
			{ name: "株洲市", value: 99 },	
			{ name: "张家界市", value: 99 },	
			{ name: "娄底市", value: 99 },	
			{ name: "湘潭市", value: 99 },	
			{ name: "澳门", value: 99 },	
			{ name: "酒泉市", value: 99 },	
			{ name: "张掖市", value: 99 },	
			{ name: "甘南藏族自治州", value: 99 },	
			{ name: "武威市", value: 99 },	
			{ name: "陇南市", value: 99 },	
			{ name: "庆阳市", value: 99 },	
			{ name: "白银市", value: 99 },	
			{ name: "定西市", value: 99 },	
			{ name: "天水市", value: 99 },	
			{ name: "兰州市", value: 99 },	
			{ name: "平凉市", value: 99 },	
			{ name: "临夏回族自治州", value: 99 },	
			{ name: "金昌市", value: 99 },	
			{ name: "嘉峪关市", value: 99 },	
			{ name: "南平市", value: 99 },	
			{ name: "三明市", value: 99 },	
			{ name: "龙岩市", value: 99 },	
			{ name: "宁德市", value: 99 },	
			{ name: "福州市", value: 99 },	
			{ name: "漳州市", value: 99 },	
			{ name: "泉州市", value: 99 },	
			{ name: "莆田市", value: 99 },	
			{ name: "厦门市", value: 99 },	
			{ name: "那曲地区", value: 99 },	
			{ name: "阿里地区", value: 99 },	
			{ name: "日喀则地区", value: 99 },	
			{ name: "林芝地区", value: 99 },	
			{ name: "昌都地区", value: 99 },	
			{ name: "山南地区", value: 99 },	
			{ name: "拉萨市", value: 99 },	
			{ name: "遵义市", value: 99 },	
			{ name: "黔东南苗族侗族自治州", value: 99 },	
			{ name: "毕节地区", value: 99 },	
			{ name: "黔南布依族苗族自治州", value: 99 },	
			{ name: "铜仁地区", value: 99 },	
			{ name: "黔西南布依族苗族自治州", value: 99 },	
			{ name: "六盘水市", value: 99 },	
			{ name: "安顺市", value: 99 },	
			{ name: "贵阳市", value: 99 },	
			{ name: "大连市", value: 99 },	
			{ name: "朝阳市", value: 99 },	
			{ name: "丹东市", value: 99 },	
			{ name: "铁岭市", value: 99 },	
			{ name: "沈阳市", value: 99 },	
			{ name: "抚顺市", value: 99 },	
			{ name: "葫芦岛市", value: 99 },	
			{ name: "阜新市", value: 99 },	
			{ name: "锦州市", value: 99 },	
			{ name: "鞍山市", value: 99 },	
			{ name: "本溪市", value: 99 },	
			{ name: "营口市", value: 99 },	
			{ name: "辽阳市", value: 99 },	
			{ name: "盘锦市", value: 99 },	
			{ name: "榆林市", value: 99 },	
			{ name: "延安市", value: 99 },	
			{ name: "汉中市", value: 99 },	
			{ name: "安康市", value: 99 },	
			{ name: "商洛市", value: 99 },	
			{ name: "宝鸡市", value: 99 },	
			{ name: "渭南市", value: 99 },	
			{ name: "咸阳市", value: 99 },	
			{ name: "西安市", value: 99 },	
			{ name: "铜川市", value: 99 },	
			{ name: "海西蒙古族藏族自治州", value: 99 },	
			{ name: "玉树藏族自治州", value: 99 },	
			{ name: "果洛藏族自治州", value: 99 },	
			{ name: "海南藏族自治州", value: 99 },	
			{ name: "海北藏族自治州", value: 99 },	
			{ name: "黄南藏族自治州", value: 99 },	
			{ name: "海东地区", value: 99 },	
			{ name: "西宁市", value: 99 },	
			{ name: "中西区", value: 99 },	
			{ name: "湾仔区", value: 99 },	
			{ name: "东区", value: 99 },	
			{ name: "南区", value: 99 },	
			{ name: "油水旺区", value: 99 },	
			{ name: "九龙市", value: 99 },	
			{ name: "深水埗区", value: 99 },	
			{ name: "黄大仙区", value: 99 },	
			{ name: "观塘区", value: 99 },	
			{ name: "西贡区", value: 99 },	
			{ name: "沙田区", value: 99 },	
			{ name: "葵青区", value: 99 },	
			{ name: "荃湾区", value: 99 },	
			{ name: "屯门区", value: 99 },	
			{ name: "元朗区", value: 99 },	
			{ name: "北区", value: 99 },	
			{ name: "大埔区", value: 99 },	
			{ name: "离岛区", value: 99 },	
			{ name: "黑河市", value: 99 },	
			{ name: "大兴安岭地区", value: 99 },	
			{ name: "哈尔滨市", value: 99 },	
			{ name: "齐齐哈尔市", value: 99 },	
			{ name: "牡丹江市", value: 99 },	
			{ name: "绥化市", value: 99 },	
			{ name: "伊春市", value: 99 },	
			{ name: "佳木斯市", value: 99 },	
			{ name: "鸡西市", value: 99 },	
			{ name: "双鸭山市", value: 99 },	
			{ name: "大庆市", value: 99 },	
			{ name: "鹤岗市", value: 99 },	
			{ name: "七台河市", value: 99 },		
			{ name: " 中西区 ", value: 99 },	
			{ name: " 湾仔区 ", value: 99 },	
			{ name: " 东区 ", value: 99 },	
			{ name: " 南区 ", value: 99 },	
			{ name: " 油水旺区市", value: 99 },	
			{ name: " 九龙市 ", value: 99 },	
			{ name: " 深水埗区", value: 99 },	
			{ name: " 黄大仙区", value: 99 },	
			{ name: " 观塘区 ", value: 99 },	
			{ name: " 西贡区 ", value: 99 },	
			{ name: " 沙田区 ", value: 99 },	
			{ name: " 葵青区 ", value: 99 },	
			{ name: " 荃湾区 ", value: 99 },	
			{ name: " 屯门区 ", value: 99 },	
			{ name: " 元朗区 ", value: 99 },	
			{ name: " 北区 ", value: 99 },	
			{ name: " 大埔区 ", value: 99 },	
			{ name: " 离岛区",  value: 99 },
			{ name:"酉阳土家族苗族自治县", value: 99 },
			{ name:"奉节县", value: 99 },
			{ name:"巫溪县", value: 99 },
			{ name:"开县", value: 99 },
			{ name:"彭水苗族土家族自治县", value: 99 },
			{ name:"云阳县", value: 99 },
			{ name:"万州区", value: 99 },
			{ name:"城口县", value: 99 },
			{ name:"江津区", value: 99 },
			{ name:"石柱土家族自治县", value: 99 },
			{ name:"巫山县", value: 99 },
			{ name:"涪陵区", value: 99 },
			{ name:"丰都县", value: 99 },
			{ name:"武隆县", value: 99 },
			{ name:"南川区", value: 99 },
			{ name:"秀山土家族苗族自治县", value: 99 },
			{ name:"黔江区", value: 99 },
			{ name:"合川区", value: 99 },
			{ name:"綦江县", value: 99 },
			{ name:"忠县", value: 99 },
			{ name:"梁平县", value: 99 },
			{ name:"巴南区", value: 99 },
			{ name:"潼南县", value: 99 },
			{ name:"永川区", value: 99 },
			{ name:"垫江县", value: 99 },
			{ name:"渝北区", value: 99 },
			{ name:"长寿区", value: 99 },
			{ name:"大足县", value: 99 },
			{ name:"铜梁县", value: 99 },
			{ name:"荣昌县", value: 99 },
			{ name:"璧山县", value: 99 },
			{ name:"北碚区", value: 99 },
			{ name:"万盛区", value: 99 },
			{ name:"九龙坡区", value: 99 },
			{ name:"沙坪坝区", value: 99 },
			{ name:"南岸区", value: 99 },
			{ name:"江北区", value: 99 },
			{ name:"大渡口区", value: 99 },
			{ name:"双桥区", value: 99 },
			{ name:"渝中区", value: 99 },
			{ name:"蓟县", value: 99 },
			{ name:"武清区", value: 99 },
			{ name:"宝坻区", value: 99 },
			{ name:"静海县", value: 99 },
			{ name:"宁河县", value: 99 },
			{ name:"大港区", value: 99 },
			{ name:"塘沽区", value: 99 },
			{ name:"西青区", value: 99 },
			{ name:"北辰区", value: 99 },
			{ name:"东丽区", value: 99 },
			{ name:"汉沽区", value: 99 },
			{ name:"津南区", value: 99 },
			{ name:"河西区", value: 99 },
			{ name:"河东区", value: 99 },
			{ name:"南开区", value: 99 },
			{ name:"河北区", value: 99 },
			{ name:"红桥区", value: 99 },
			{ name:"和平区", value: 99 },
			{ name:"密云县", value: 99 },
			{ name:"怀柔区", value: 99 },
			{ name:"房山区", value: 99 },
			{ name:"延庆县", value: 99 },
			{ name:"门头沟区", value: 99 },
			{ name:"昌平区", value: 99 },
			{ name:"大兴区", value: 99 },
			{ name:"顺义区", value: 99 },
			{ name:"平谷区", value: 99 },
			{ name:"通州区", value: 99 },
			{ name:"朝阳区", value: 99 },
			{ name:"海淀区", value: 99 },
			{ name:"丰台区", value: 99 },
			{ name:"石景山区", value: 99 },
			{ name:"西城区", value: 99 },
			{ name:"东城区", value: 99 },
			{ name:"宣武区", value: 99 },
			{ name:"崇文区", value: 99 },
			{ name:"崇明县", value: 99 },
			{ name:"南汇区", value: 99 },
			{ name:"奉贤区", value: 99 },
			{ name:"浦东新区", value: 99 },
			{ name:"金山区", value: 99 },
			{ name:"青浦区", value: 99 },
			{ name:"松江区", value: 99 },
			{ name:"嘉定区", value: 99 },
			{ name:"宝山区", value: 99 },
			{ name:"闵行区", value: 99 },
			{ name:"杨浦区", value: 99 },
			{ name:"普陀区", value: 99 },
			{ name:"徐汇区", value: 99 },
			{ name:"长宁区", value: 99 },
			{ name:"闸北区", value: 99 },
			{ name:"虹口区", value: 99 },
			{ name:"黄浦区", value: 99 },
			{ name:"卢湾区", value: 99 },
			{ name:"静安区", value: 99 },
		];
		
		var geoCoordMap = {
			"北京": [116.46,39.92],
			"上海": [121.48,31.22],
			"天津": [117.2,39.13],
			"重庆": [106.54,29.59],
			"普洱市": [100.7446, 23.4229],
			"红河哈尼族彝族自治州": [103.0408, 23.6041],
			"文山壮族苗族自治州": [104.8865, 23.5712],
			"曲靖市": [103.9417, 25.7025],
			"楚雄彝族自治州": [101.6016, 25.3619],
			"大理白族自治州": [99.9536, 25.6805],
			"临沧市": [99.613, 24.0546],
			"迪庆藏族自治州": [99.4592, 27.9327],
			"昭通市": [104.0955, 27.6031],
			"昆明市": [102.9199, 25.4663],
			"丽江市": [100.448, 26.955],
			"西双版纳傣族自治州": [100.8984, 21.8628],
			"保山市": [99.0637, 24.9884],
			"玉溪市": [101.9312, 23.8898],
			"怒江傈僳族自治州": [99.1516, 26.5594],
			"德宏傣族景颇族自治州": [98.1299, 24.5874],
			"呼伦贝尔市": [120.8057, 50.2185],
			"阿拉善盟": [102.019, 40.1001],
			"锡林郭勒盟": [115.6421, 44.176],
			"鄂尔多斯市": [108.9734, 39.2487],
			"赤峰市": [118.6743, 43.2642],
			"巴彦淖尔市": [107.5562, 41.3196],
			"通辽市": [121.4758, 43.9673],
			"乌兰察布市": [112.5769, 41.77],
			"兴安盟": [121.3879, 46.1426],
			"包头市": [110.3467, 41.4899],
			"呼和浩特市": [111.4124, 40.4901],
			"乌海市": [106.886, 39.4739],
			"高雄市": [120.0254, 23.5986],
			"屏东县": [120.0254, 23.5986],
			"台南市": [120.0254, 23.5986],
			"新竹市": [120.0254, 23.5986],
			"新竹县": [120.0254, 23.5986],
			"宜兰县": [120.0254, 23.5986],
			"基隆市": [120.0254, 23.5986],
			"苗栗县": [120.0254, 23.5986],
			"台北市": [120.0254, 23.5986],
			"新北市": [120.0254, 23.5986],
			"桃园县": [120.0254, 23.5986],
			"彰化县": [120.0254, 23.5986],
			"嘉义县": [120.0254, 23.5986],
			"嘉义市": [120.0254, 23.5986],
			"花莲县": [120.0254, 23.5986],
			"南投县": [120.0254, 23.5986],
			"台中市": [120.0254, 23.5986],
			"云林县": [120.0254, 23.5986],
			"台东县": [120.0254, 23.5986],
			"澎湖县": [120.0254, 23.5986],
			"金门": [120.0254, 23.5986],
			"马祖": [120.0254, 23.5986],
			"延边朝鲜族自治州": [129.397, 43.2587],
			"吉林市": [126.8372, 43.6047],
			"白城市": [123.0029, 45.2637],
			"松原市": [124.0906, 44.7198],
			"长春市": [125.8154, 44.2584],
			"白山市": [127.2217, 42.0941],
			"通化市": [125.9583, 41.8579],
			"四平市": [124.541, 43.4894],
			"辽源市": [125.343, 42.7643],
			"甘孜藏族自治州": [99.9207, 31.0803],
			"阿坝藏族羌族自治州": [102.4805, 32.4536],
			"凉山彝族自治州": [101.9641, 27.6746],
			"绵阳市": [104.7327, 31.8713],
			"达州市": [107.6111, 31.333],
			"广元市": [105.6885, 32.2284],
			"雅安市": [102.6672, 29.8938],
			"宜宾市": [104.6558, 28.548],
			"乐山市": [103.5791, 29.1742],
			"南充市": [106.2048, 31.1517],
			"巴中市": [107.0618, 31.9977],
			"泸州市": [105.4578, 28.493],
			"成都市": [103.9526, 30.7617],
			"资阳市": [104.9744, 30.1575],
			"攀枝花市": [101.6895, 26.7133],
			"眉山市": [103.8098, 30.0146],
			"广安市": [106.6333, 30.4376],
			"德阳市": [104.48, 31.1133],
			"内江市": [104.8535, 29.6136],
			"遂宁市": [105.5347, 30.6683],
			"自贡市": [104.6667, 29.2786],
			"吴忠市": [106.853, 37.3755],
			"中卫市": [105.4028, 36.9525],
			"固原市": [106.1389, 35.9363],
			"银川市": [106.3586, 38.1775],
			"石嘴山市": [106.4795, 39.0015],
			"六安市": [116.3123, 31.8329],
			"安庆市": [116.7517, 30.5255],
			"滁州市": [118.1909, 32.536],
			"宣城市": [118.8062, 30.6244],
			"阜阳市": [115.7629, 32.9919],
			"宿州市": [117.5208, 33.6841],
			"黄山市": [118.0481, 29.9542],
			"巢湖市": [117.7734, 31.4978],
			"亳州市": [116.1914, 33.4698],
			"池州市": [117.3889, 30.2014],
			"合肥市": [117.29, 32.0581],
			"蚌埠市": [117.4109, 33.1073],
			"芜湖市": [118.3557, 31.0858],
			"淮北市": [116.6968, 33.6896],
			"淮南市": [116.7847, 32.7722],
			"马鞍山市": [118.6304, 31.5363],
			"铜陵市": [117.9382, 30.9375],
			"烟台市": [120.7397, 37.5128],
			"临沂市": [118.3118, 35.2936],
			"潍坊市": [119.0918, 36.524],
			"青岛市": [120.4651, 36.3373],
			"菏泽市": [115.6201, 35.2057],
			"济宁市": [116.8286, 35.3375],
			"德州市": [116.6858, 37.2107],
			"滨州市": [117.8174, 37.4963],
			"聊城市": [115.9167, 36.4032],
			"东营市": [118.7073, 37.5513],
			"济南市": [117.1582, 36.8701],
			"泰安市": [117.0264, 36.0516],
			"威海市": [121.9482, 37.1393],
			"日照市": [119.2786, 35.5023],
			"淄博市": [118.0371, 36.6064],
			"枣庄市": [117.323, 34.8926],
			"莱芜市": [117.6526, 36.2714],
			"忻州市": [112.4561, 38.8971],
			"吕梁市": [111.3574, 37.7325],
			"临汾市": [111.4783, 36.1615],
			"晋中市": [112.7747, 37.37],
			"运城市": [111.1487, 35.2002],
			"大同市": [113.7854, 39.8035],
			"长治市": [112.8625, 36.4746],
			"朔州市": [113.0713, 39.6991],
			"晋城市": [112.7856, 35.6342],
			"太原市": [112.3352, 37.9413],
			"阳泉市": [113.4778, 38.0951],
			"清远市": [112.9175, 24.3292],
			"韶关市": [113.7964, 24.7028],
			"湛江市": [110.3577, 20.9894],
			"梅州市": [116.1255, 24.1534],
			"河源市": [114.917, 23.9722],
			"肇庆市": [112.1265, 23.5822],
			"惠州市": [114.6204, 23.1647],
			"茂名市": [111.0059, 22.0221],
			"江门市": [112.6318, 22.1484],
			"阳江市": [111.8298, 22.0715],
			"云浮市": [111.7859, 22.8516],
			"广州市": [113.5107, 23.2196],
			"汕尾市": [115.5762, 23.0438],
			"揭阳市": [116.1255, 23.313],
			"珠海市": [113.7305, 22.1155],
			"佛山市": [112.8955, 23.1097],
			"潮州市": [116.7847, 23.8293],
			"汕头市": [117.1692, 23.3405],
			"深圳市": [114.5435, 22.5439],
			"东莞市": [113.8953, 22.901],
			"中山市": [113.4229, 22.478],
			"百色市": [106.6003, 23.9227],
			"河池市": [107.8638, 24.5819],
			"桂林市": [110.5554, 25.318],
			"南宁市": [108.479, 23.1152],
			"柳州市": [109.3799, 24.9774],
			"崇左市": [107.3364, 22.4725],
			"来宾市": [109.7095, 23.8403],
			"玉林市": [110.2148, 22.3792],
			"梧州市": [110.9949, 23.5052],
			"贺州市": [111.3135, 24.4006],
			"钦州市": [109.0283, 22.0935],
			"贵港市": [109.9402, 23.3459],
			"防城港市": [108.0505, 21.9287],
			"北海市": [109.314, 21.6211],
			"巴音郭楞蒙古自治州": [88.1653, 39.6002],
			"和田地区": [81.167, 36.9855],
			"哈密地区": [93.7793, 42.9236],
			"阿克苏地区": [82.9797, 41.0229],
			"阿勒泰地区": [88.2971, 47.0929],
			"喀什地区": [77.168, 37.8534],
			"塔城地区": [86.6272, 45.8514],
			"昌吉回族自治州": [89.6814, 44.4507],
			"克孜勒苏柯尔克孜自治州": [74.6301, 39.5233],
			"吐鲁番地区": [89.6375, 42.4127],
			"伊犁哈萨克自治州": [82.5513, 43.5498],
			"博尔塔拉蒙古自治州": [81.8481, 44.6979],
			"乌鲁木齐市": [87.9236, 43.5883],
			"克拉玛依市": [85.2869, 45.5054],
			"阿拉尔市": [81.2769, 40.6549],
			"图木舒克市": [79.1345, 39.8749],
			"五家渠市": [87.5391, 44.3024],
			"石河子市": [86.0229, 44.2914],
			"盐城市": [120.2234, 33.5577],
			"徐州市": [117.5208, 34.3268],
			"南通市": [121.1023, 32.1625],
			"淮安市": [118.927, 33.4039],
			"苏州市": [120.6519, 31.3989],
			"宿迁市": [118.5535, 33.7775],
			"连云港市": [119.1248, 34.552],
			"扬州市": [119.4653, 32.8162],
			"南京市": [118.8062, 31.9208],
			"泰州市": [120.0586, 32.5525],
			"无锡市": [120.3442, 31.5527],
			"常州市": [119.4543, 31.5582],
			"镇江市": [119.4763, 31.9702],
			"赣州市": [115.2795, 25.8124],
			"吉安市": [114.884, 26.9659],
			"上饶市": [117.8613, 28.7292],
			"九江市": [115.4224, 29.3774],
			"抚州市": [116.4441, 27.4933],
			"宜春市": [115.0159, 28.3228],
			"南昌市": [116.0046, 28.6633],
			"景德镇市": [117.334, 29.3225],
			"萍乡市": [113.9282, 27.4823],
			"鹰潭市": [117.0813, 28.2349],
			"新余市": [114.95, 27.8174],
			"承德市": [117.5757, 41.4075],
			"张家口市": [115.1477, 40.8527],
			"保定市": [115.0488, 39.0948],
			"唐山市": [118.4766, 39.6826],
			"沧州市": [116.8286, 38.2104],
			"石家庄市": [114.4995, 38.1006],
			"邢台市": [114.8071, 37.2821],
			"邯郸市": [114.4775, 36.535],
			"秦皇岛市": [119.2126, 40.0232],
			"衡水市": [115.8838, 37.7161],
			"廊坊市": [116.521, 39.0509],
			"南阳市": [112.4011, 33.0359],
			"信阳市": [114.8291, 32.0197],
			"洛阳市": [112.0605, 34.3158],
			"驻马店市": [114.1589, 32.9041],
			"周口市": [114.873, 33.6951],
			"商丘市": [115.741, 34.2828],
			"三门峡市": [110.8301, 34.3158],
			"新乡市": [114.2029, 35.3595],
			"平顶山市": [112.9724, 33.739],
			"郑州市": [113.4668, 34.6234],
			"安阳市": [114.5325, 36.0022],
			"开封市": [114.5764, 34.6124],
			"焦作市": [112.8406, 35.1508],
			"许昌市": [113.6975, 34.0466],
			"濮阳市": [115.1917, 35.799],
			"漯河市": [113.8733, 33.6951],
			"鹤壁市": [114.3787, 35.744],
			"丽水市": [119.5642, 28.1854],
			"杭州市": [119.5313, 29.8773],
			"温州市": [120.498, 27.8119],
			"宁波市": [121.5967, 29.6466],
			"舟山市": [122.2559, 30.2234],
			"台州市": [121.1353, 28.6688],
			"金华市": [120.0037, 29.1028],
			"衢州市": [118.6853, 28.8666],
			"绍兴市": [120.564, 29.7565],
			"嘉兴市": [120.9155, 30.6354],
			"湖州市": [119.8608, 30.7782],
			"儋州市": [109.3291, 19.5653],
			"文昌市": [110.8905, 19.7823],
			"乐东黎族自治县": [109.0283, 18.6301],
			"三亚市": [109.3716, 18.3698],
			"琼中黎族苗族自治县": [109.8413, 19.0736],
			"东方市": [108.8498, 19.0414],
			"海口市": [110.3893, 19.8516],
			"万宁市": [110.3137, 18.8388],
			"澄迈县": [109.9937, 19.7314],
			"白沙黎族自治县": [109.3703, 19.211],
			"琼海市": [110.4208, 19.224],
			"昌江黎族自治县": [109.0407, 19.2137],
			"临高县": [109.6957, 19.8063],
			"陵水黎族自治县": [109.9924, 18.5415],
			"屯昌县": [110.0377, 19.362],
			"定安县": [110.3384, 19.4698],
			"保亭黎族苗族自治县": [109.6284, 18.6108],
			"五指山市": [109.5282, 18.8299],
			"恩施土家族苗族自治州": [109.5007, 30.2563],
			"十堰市": [110.5115, 32.3877],
			"宜昌市": [111.1707, 30.7617],
			"襄樊市": [111.9397, 31.9263],
			"黄冈市": [115.2686, 30.6628],
			"荆州市": [113.291, 30.0092],
			"荆门市": [112.6758, 30.9979],
			"咸宁市": [114.2578, 29.6631],
			"随州市": [113.4338, 31.8768],
			"孝感市": [113.9502, 31.1188],
			"武汉市": [114.3896, 30.6628],
			"黄石市": [115.0159, 29.9213],
			"神农架林区": [110.4565, 31.5802],
			"天门市": [113.0273, 30.6409],
			"仙桃市": [113.3789, 30.03],
			"潜江市": [112.7637, 30.3607],
			"鄂州市": [114.7302, 30.4102],
			"怀化市": [109.9512, 27.4438],
			"永州市": [111.709, 25.752],
			"邵阳市": [110.9619, 26.8121],
			"郴州市": [113.2361, 25.8673],
			"常德市": [111.4014, 29.2676],
			"湘西土家族苗族自治州": [109.7864, 28.6743],
			"衡阳市": [112.4121, 26.7902],
			"岳阳市": [113.2361, 29.1357],
			"益阳市": [111.731, 28.3832],
			"长沙市": [113.0823, 28.2568],
			"株洲市": [113.5327, 27.0319],
			"张家界市": [110.5115, 29.328],
			"娄底市": [111.6431, 27.7185],
			"湘潭市": [112.5439, 27.7075],
			"澳门": [111.5547, 22.1484],
			"酒泉市": [96.2622, 40.4517],
			"张掖市": [99.7998, 38.7433],
			"甘南藏族自治州": [102.9199, 34.6893],
			"武威市": [103.0188, 38.1061],
			"陇南市": [105.304, 33.5632],
			"庆阳市": [107.5342, 36.2],
			"白银市": [104.8645, 36.5076],
			"定西市": [104.5569, 35.0848],
			"天水市": [105.6445, 34.6289],
			"兰州市": [103.5901, 36.3043],
			"平凉市": [107.0728, 35.321],
			"临夏回族自治州": [103.2715, 35.5737],
			"金昌市": [102.074, 38.5126],
			"嘉峪关市": [98.1738, 39.8035],
			"南平市": [118.136, 27.2845],
			"三明市": [117.5317, 26.3013],
			"龙岩市": [116.8066, 25.2026],
			"宁德市": [119.6521, 26.9824],
			"福州市": [119.4543, 25.9222],
			"漳州市": [117.5757, 24.3732],
			"泉州市": [118.3228, 25.1147],
			"莆田市": [119.0918, 25.3455],
			"厦门市": [118.1689, 24.6478],
			"那曲地区": [88.1982, 33.3215],
			"阿里地区": [82.3645, 32.7667],
			"日喀则地区": [86.2427, 29.5093],
			"林芝地区": [95.4602, 29.1138],
			"昌都地区": [97.0203, 30.7068],
			"山南地区": [92.2083, 28.3392],
			"拉萨市": [91.1865, 30.1465],
			"遵义市": [106.908, 28.1744],
			"黔东南苗族侗族自治州": [108.4241, 26.4166],
			"毕节地区": [105.1611, 27.0648],
			"黔南布依族苗族自治州": [107.2485, 25.8398],
			"铜仁地区": [108.6218, 28.0096],
			"黔西南布依族苗族自治州": [105.5347, 25.3949],
			"六盘水市": [104.7546, 26.0925],
			"安顺市": [105.9082, 25.9882],
			"贵阳市": [106.6992, 26.7682],
			"大连市": [122.2229, 39.4409],
			"朝阳市": [120.0696, 41.4899],
			"丹东市": [124.541, 40.4242],
			"铁岭市": [124.2773, 42.7423],
			"沈阳市": [123.1238, 42.1216],
			"抚顺市": [124.585, 41.8579],
			"葫芦岛市": [120.1575, 40.578],
			"阜新市": [122.0032, 42.2699],
			"锦州市": [121.6626, 41.4294],
			"鞍山市": [123.0798, 40.6055],
			"本溪市": [124.1455, 41.1987],
			"营口市": [122.4316, 40.4297],
			"辽阳市": [123.4094, 41.1383],
			"盘锦市": [121.9482, 41.0449],
			"榆林市": [109.8743, 38.205],
			"延安市": [109.1052, 36.4252],
			"汉中市": [106.886, 33.0139],
			"安康市": [109.1162, 32.7722],
			"商洛市": [109.8083, 33.761],
			"宝鸡市": [107.1826, 34.3433],
			"渭南市": [109.7864, 35.0299],
			"咸阳市": [108.4131, 34.8706],
			"西安市": [109.1162, 34.2004],
			"铜川市": [109.0393, 35.1947],
			"海西蒙古族藏族自治州": [94.9768, 37.1118],
			"玉树藏族自治州": [93.5925, 33.9368],
			"果洛藏族自治州": [99.3823, 34.0466],
			"海南藏族自治州": [100.3711, 35.9418],
			"海北藏族自治州": [100.3711, 37.9138],
			"黄南藏族自治州": [101.5686, 35.1178],
			"海东地区": [102.3706, 36.2988],
			"西宁市": [101.4038, 36.8207],
			"中西区": [114.1178, 22.3242],
			"湾仔区": [114.1178, 22.3242],
			"东区": [114.1178, 22.3242],
			"南区": [114.1178, 22.3242],
			"油水旺区": [114.1178, 22.3242],
			"九龙市": [114.1178, 22.3242],
			"深水埗区": [114.1178, 22.3242],
			"黄大仙区": [114.1178, 22.3242],
			"观塘区": [114.1178, 22.3242],
			"西贡区": [114.1178, 22.3242],
			"沙田区": [114.1178, 22.3242],
			"葵青区": [114.1178, 22.3242],
			"荃湾区": [114.1178, 22.3242],
			"屯门区": [114.1178, 22.3242],
			"元朗区": [114.1178, 22.3242],
			"北区": [114.1178, 22.3242],
			"大埔区": [114.1178, 22.3242],
			"离岛区": [114.1178, 22.3242],
			"黑河市": [127.1448, 49.2957],
			"大兴安岭地区": [124.1016, 52.2345],
			"哈尔滨市": [127.9688, 45.368],
			"齐齐哈尔市": [124.541, 47.5818],
			"牡丹江市": [129.7815, 44.7089],
			"绥化市": [126.7163, 46.8018],
			"伊春市": [129.1992, 47.9608],
			"佳木斯市": [133.0005, 47.5763],
			"鸡西市": [132.7917, 45.7361],
			"双鸭山市": [133.5938, 46.7523],
			"大庆市": [124.7717, 46.4282],
			"鹤岗市": [130.4407, 47.7081],
			"七台河市": [131.2756, 45.9558],
			"酉阳土家族苗族自治县": [108.8196, 28.8666],
			"奉节县": [109.3909, 30.9265],
			"巫溪县": [109.3359, 31.4813],
			"开县": [108.4131, 31.2561],
			"彭水苗族土家族自治县": [108.2043, 29.3994],
			"云阳县": [108.8306, 31.0089],
			"万州区": [108.3911, 30.6958],
			"城口县": [108.7756, 31.9098],
			"江津区": [106.2158, 28.9874],
			"石柱土家族自治县": [108.2813, 30.1025],
			"巫山县": [109.8853, 31.1188],
			"涪陵区": [107.3364, 29.6796],
			"丰都县": [107.8418, 29.9048],
			"武隆县": [107.655, 29.35],
			"南川区": [107.1716, 29.1302],
			"秀山土家族苗族自治县": [109.0173, 28.5205],
			"黔江区": [108.7207, 29.4708],
			"合川区": [106.3257, 30.108],
			"綦江县": [106.6553, 28.8171],
			"忠县": [107.8967, 30.3223],
			"梁平县": [107.7429, 30.6519],
			"巴南区": [106.7322, 29.4214],
			"潼南县": [105.7764, 30.1135],
			"永川区": [105.8643, 29.2566],
			"垫江县": [107.4573, 30.2454],
			"渝北区": [106.7212, 29.8499],
			"长寿区": [107.1606, 29.9762],
			"大足县": [105.7544, 29.6136],
			"铜梁县": [106.0291, 29.8059],
			"荣昌县": [105.5127, 29.4708],
			"璧山县": [106.2048, 29.5807],
			"北碚区": [106.5674, 29.8883],
			"万盛区": [106.908, 28.9325],
			"九龙坡区": [106.3586, 29.4049],
			"沙坪坝区": [106.3696, 29.6191],
			"南岸区": [106.6663, 29.5367],
			"江北区": [106.8311, 29.6191],
			"大渡口区": [106.4905, 29.4214],
			"双桥区": [105.7874, 29.4928],
			"渝中区": [106.5344, 29.5477],
			"蓟县": [117.4672, 40.004],
			"武清区": [117.0621, 39.4121],
			"宝坻区": [117.4274, 39.5913],
			"静海县": [116.9824, 38.8312],
			"宁河县": [117.6801, 39.3853],
			"大港区": [117.3875, 38.757],
			"塘沽区": [117.6801, 38.9987],
			"西青区": [117.1829, 39.0022],
			"北辰区": [117.1761, 39.2548],
			"东丽区": [117.4013, 39.1223],
			"汉沽区": [117.8888, 39.2191],
			"津南区": [117.3958, 38.9603],
			"河西区": [117.2365, 39.0804],
			"河东区": [117.2571, 39.1209],
			"南开区": [117.1527, 39.1065],
			"河北区": [117.2145, 39.1615],
			"红桥区": [117.1596, 39.1663],
			"和平区": [117.2008, 39.1189],
			"密云县": [117.0923, 40.5121],
			"怀柔区": [116.6377, 40.6219],
			"房山区": [115.8453, 39.7163],
			"延庆县": [116.1543, 40.5286],
			"门头沟区": [115.8, 39.9957],
			"昌平区": [116.1777, 40.2134],
			"大兴区": [116.4716, 39.6352],
			"顺义区": [116.7242, 40.1619],
			"平谷区": [117.1706, 40.2052],
			"通州区": [116.7297, 39.8131],
			"朝阳区": [116.4977, 39.949],
			"海淀区": [116.2202, 40.0239],
			"丰台区": [116.2683, 39.8309],
			"石景山区": [116.1887, 39.9346],
			"西城区": [116.3631, 39.9353],
			"东城区": [116.418, 39.9367],
			"宣武区": [116.3603, 39.8852],
			"崇文区": [116.4166, 39.8811],
			"崇明县": [121.5637, 31.5383],
			"南汇区": [121.8755, 30.954],
			"奉贤区": [121.5747, 30.8475],
			"浦东新区": [121.6928, 31.2561],
			"金山区": [121.2657, 30.8112],
			"青浦区": [121.1751, 31.1909],
			"松江区": [121.1984, 31.0268],
			"嘉定区": [121.2437, 31.3625],
			"宝山区": [121.4346, 31.4051],
			"闵行区": [121.4992, 31.0838],
			"杨浦区": [121.528, 31.2966],
			"普陀区": [121.3879, 31.2602],
			"徐汇区": [121.4333, 31.1607],
			"长宁区": [121.3852, 31.2115],
			"闸北区": [121.4511, 31.2794],
			"虹口区": [121.4882, 31.2788],
			"黄浦区": [121.4868, 31.219],
			"卢湾区": [121.4758, 31.2074],
			"静安区": [121.4484, 31.2286],
		};

		//根据选择的城市名字进行定位
		function convertData(data) {
		   var res = [];
		   var tmp = data.split(" ");
		   for (var i = 0; i < tmp.length; i++) {
			   var geoCoord = geoCoordMap[tmp[i]];
			   if (geoCoord) {
				   res.push({
					   name: tmp[i],
					   value: geoCoord.concat('99')
				   });
			   }
		   }
		   return res;
		}
		//统计选择的城市信息
		function count(data){
			var number;
			var res=[];
			res= data.split(" ");
			number= res.length;
			return number;
		}
	</script>
	<script>
		//根据选择的城市生成足迹图
		function Generate(){
			document.getElementById('wrong-message').innerHTML = '当前足迹: '+citygo;	
			// 基于准备好的dom，初始化echarts图表
			var dom = document.getElementById("china");
			var generalChart = echarts.init(dom);
			var citychart = echarts.init(document.getElementById('province'));
			var rate = 0;
			var numbers_go = 0;
			numbers_go = count(citygo.trim());
			if(citygo==''){
				numbers_go = 0;
			}
			rate = ((numbers_go/(numbers_go+50))*100).toFixed(2) + '%';
			option = null;
			option = {
				title:{
					//text:'+ + 足 迹',
					subtext:'恭喜您已经在'+numbers_go+ '个城市留下足迹，初步估计击败'+rate+'的人.\n\n还有许多美景等您去发现哦，继续加油！',
					itemGap: 20,
					x:'center',
					textStyle:{fontSize: 40,fontWeight:'bolder',color:'#59b3f3'},
					subtextStyle:{fontSize: 20,fontWeight:'normal',y:'50%',color:'yellow'}
				},
				
				tooltip: {
						trigger: 'item',
						formatter: '{b}'
					},
				toolbox: { //可视化的工具箱
					show: true,
					y: 'bottom',
					feature: {
						dataView: { //数据视图
							show: true
						},
						restore: { //重置
							show: true
						},
						dataZoom: { //数据缩放视图
							show: true
						},
						saveAsImage: {//保存图片
							show: true
						},
					}
				},
				
				geo: {
					map: 'china',
					roam: true,
					label: {
						normal: {
							show: true,
							textStyle: {
								color: '#59b3f3',
							}
						}
					},
					itemStyle: {
							normal: {
								label: {
									show: true,
									textStyle: {
										color: 'rgba(0, 0, 0, 0.2)'
									}
								},
								areaStyle: {
									color: '#B1D0EC'
								},
								color: 'rgba(0, 0, 0, 0.5)',
								//borderColor: 'green', //区块的边框颜色
								borderColor:"#FCFCFC",
								borderWidth:"1",
							},
						emphasis:{
							areaColor: null,
							shadowOffsetX: 0,
							shadowOffsetY: 0,
							shadowBlur: 20,
							borderWidth: 0,
							shadowColor: 'rgba(0, 0, 0, 0.5)'
						}
					}
				},
				series : [
				   {
					   type: 'scatter',
					   coordinateSystem: 'geo',
					   rippleEffect: {
							//brushType: 'stroke'
						},
					   data: convertData(citygo),
					   symbolSize: [42,45],
					   symbol: 'image://footfiles//feet.png',
					   symbolRotate: 0, //图标的角度
					   label: {
						   normal: {
							   formatter: '{b}',
							   position: 'bottom',
							   show: true
						   },
						   emphasis: {
							   show: true
						   }
					   },
					   itemStyle: {
						   normal: {
								//show: 'true',
								color: '#F06C00'
						   }
					   }
					},
					{
						name: 'categoryA',
						type: 'map',
						geoIndex: 0,
						data:[
							{name: '北京', value: 0},
							{name: '天津', value: 0},
							{name: '上海', value: 0},
							{name: '重庆', value: 0},
							{name: '河北', value: 0},
							{name: '河南', value: 0},
							{name: '云南', value: 0},
							{name: '辽宁', value: 0},
							{name: '黑龙江', value: 0},
							{name: '湖南', value: 0},
							{name: '安徽', value: 0},
							{name: '山东', value: 0},
							{name: '新疆', value: 0},
							{name: '江苏', value: 0},
							{name: '浙江', value: 0},
							{name: '江西', value: 0},
							{name: '湖北', value: 0},
							{name: '广西', value: 0},
							{name: '甘肃', value: 0},
							{name: '山西', value: 0},
							{name: '内蒙古', value: 0},
							{name: '陕西', value: 0},
							{name: '吉林', value: 0},
							{name: '福建', value: 0},
							{name: '贵州', value: 0},
							{name: '广东', value: 0},
							{name: '青海', value: 0},
							{name: '西藏', value: 0},
							{name: '四川', value: 0},
							{name: '宁夏', value: 0},
							{name: '海南', value: 0},
							{name: '台湾', value: 0},
							{name: '香港', value: 0},
							{name: '澳门', value: 0}
						]
					}
				]
			};
			if (option && typeof option === "object") {
				generalChart.clear();
				generalChart.setOption(option, true);
				window.onresize = generalChart.resize
			}
		}
	
	</script>
	
</body>
</html>
